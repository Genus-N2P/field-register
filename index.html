<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Field Register</title>
  <link href="https://fonts.googleapis.com/css2?family=Exo:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary-dark: #112b4e;
      --primary-mid: #8895a6;
      --primary-accent: #ec7723;

      --dark-80: rgba(17, 43, 78, 0.8);
      --dark-60: rgba(17, 43, 78, 0.6);
      --dark-40: rgba(17, 43, 78, 0.4);
      --dark-20: rgba(17, 43, 78, 0.2);
      --dark-10: rgba(17, 43, 78, 0.1);
      --dark-05: rgba(17, 43, 78, 0.05);

      --accent-80: rgba(236, 119, 35, 0.8);
      --accent-60: rgba(236, 119, 35, 0.6);
      --accent-40: rgba(236, 119, 35, 0.4);
      --accent-20: rgba(236, 119, 35, 0.2);
      --accent-10: rgba(236, 119, 35, 0.1);
      --accent-05: rgba(236, 119, 35, 0.05);
    }

    body {
      font-family: 'Exo', sans-serif;
      background-color: #f9f9f9;
      color: var(--primary-dark);
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    header {
      background-color: var(--primary-dark);
      height: 350px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: white;
      padding: 0 2rem;
    }

    .header-logo {
      height: 300px;
      width: auto;
      object-fit: contain;
      max-width: 600px;
    }

    .header-title {
      flex: 1;
      text-align: center;
    }

    .header-title h1 {
      font-weight: 600;
      font-size: 3rem;
      margin: 0;
    }

    .header-spacer {
      width: 300px; /* Same as logo width to center the title */
    }

    /* Responsive media queries for header logo */
    @media screen and (max-width: 1200px) {
      .header-logo {
        height: 250px;
        max-width: 500px;
      }
      .header-spacer {
        width: 250px;
      }
      .header-title h1 {
        font-size: 2.5rem;
      }
    }

    @media screen and (max-width: 768px) {
      header {
        height: 250px;
        padding: 0 1rem;
      }
      .header-logo {
        height: 200px;
        max-width: 350px;
      }
      .header-spacer {
        width: 200px;
      }
      .header-title h1 {
        font-size: 2rem;
      }
    }

    @media screen and (max-width: 480px) {
      header {
        height: 200px;
        padding: 0 0.5rem;
      }
      .header-logo {
        height: 160px;
        max-width: 200px;
      }
      .header-spacer {
        width: 160px;
      }
      .header-title h1 {
        font-size: 1.5rem;
      }
    }

    @media screen and (max-width: 320px) {
      header {
        height: 180px;
      }
      .header-logo {
        height: 130px;
        max-width: 150px;
      }
      .header-spacer {
        width: 130px;
      }
      .header-title h1 {
        font-size: 1.3rem;
      }
    }

    .container {
      max-width: 1000px;
      margin: -50px auto 0 auto;
      padding: 2rem;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 0 10px var(--dark-10);
    }

    .form-switcher {
      margin-bottom: 2rem;
    }

    .form-switcher h2 {
      font-weight: 600;
      font-size: 1.2rem;
    }

    .form-switcher button {
      background-color: var(--accent-40);
      border: none;
      color: white;
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      margin: 0.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .form-switcher button:hover {
      background-color: var(--accent-60);
    }

    .form-switcher button.active {
      background-color: var(--primary-accent);
    }

    .btn-back {
      background-color: #6c757d !important;
    } 
      
    .btn-back:hover {
      background-color: #5a6268 !important;
    }       

    .thank-you-message {
      background-color: var(--accent-10);
      border: 2px solid var(--primary-accent);
      color: var(--primary-dark);
      padding: 1rem;
      border-radius: 0.5rem;
      text-align: center;
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 2rem;
      display: none;
    }

    .hidden {
      display: none;
    }

    .form-section {
      margin-bottom: 2rem;
    }

    .form-section h3 {
      font-size: 1.5rem;
      margin-top: 0;
    }

    label {
      display: block;
      margin: 1rem 0 0.5rem;
      font-weight: 600;
    }

    input[type="text"],
    input[type="date"],
    input[type="number"],
    input[type="tel"],
    select,
    textarea {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--dark-20);
      border-radius: 0.5rem;
      font-size: 1rem;
      font-family: 'Exo', sans-serif;
    }

    input[type="checkbox"] {
      margin-right: 0.5rem;
    }

    .form-footer {
      margin-top: 2rem;
      display: flex;
      justify-content: space-between;
    }

    .form-footer button {
      background-color: var(--primary-accent);
      color: white;
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
    }

.field-error input {
  border: 2px solid #dc3545;
  background-color: #fff5f5;
}

.field-error label {
  color: #dc3545;
  font-weight: bold;
}

.form-wrapper {
  border: 1px solid var(--dark-20); /* Subtle border */
  padding: 1.5rem;
  border-radius: 1rem;
  max-width: 100%;
  box-sizing: border-box;
  overflow-x: auto; /* Ensure horizontal scrolling if content overflows */
}

input,
select,
textarea {
  max-width: 100%;
  box-sizing: border-box;
}

    .conditional-field {
      display: none;
      margin-top: 0.5rem;
    }

    .conditional-field.show {
      display: block;
    }


  </style>

</head>
<body>
  <header>
    <img src="Field Register Header.png" alt="Field Register Logo" class="header-logo" />
    <div class="header-title">
      <h1>Field Register</h1>
    </div>
    <div class="header-spacer"></div>
  </header>

  <main class="container">
  <div class="form-wrapper">
  <div id="thank-you-message" class="thank-you-message" style="display: none;">
    <h3 id="message-title">Thank you!</h3>
    <p id="message-body">Your form has been submitted successfully.</p>
  </div>
    
    <section class="form-switcher">
      <h2>Please select which form you require:</h2>
      <button id="btn-forecast" onclick="showForm('forecast')">Subcontractor Weekly Forecast</button>
      <button id="btn-bog" onclick="showForm('bog')">Boots on Ground</button>
      <button id="btn-reinstatement" onclick="showForm('reinstatement')">Reinstatement Register</button>
      <button id="btn-pitlinkin" onclick="showForm('pitlinkin')">Pit Link-in Register</button>
    </section>

    <div id="form-forecast" class="form-section hidden">
      <h3>Subcontractor Weekly Forecast: Genus N2P project</h3>
      <p>Please complete weekly by 5pm Thursday.<br>This is a new reporting requirement implemented by nbn.</p>
      <form id="forecast-form" onsubmit="validateForecastForm()">

<div class="current-date" id="current-date"></div>
<div class="date-field">
                <label for="forecast-date">Week of:</label>
                <input type="date" id="forecast-date" name="forecast-date" required disabled />
            </div>

        <label for="forecast-company-name">Your Company Name</label>
        <select id="forecast-company-name" name="forecast-company-name" required>
          <option value="">Select one</option>
          <option value="Boretech Contracting">Boretech Contracting</option>
          <option value="Connectit Communications">Connectit Communications</option>
          <option value="Dawn Techcomms">Dawn Techcomms</option>
          <option value="DDS Underground">DDS Underground</option>
          <option value="Dizza Communications">Dizza Communications</option>
          <option value="Engytech Engineering Services">Engytech Engineering Services</option>
          <option value="Feverpitch Enterprises">Feverpitch Enterprises</option>
          <option value="Genus Services">Genus Services</option>
          <option value="JNJTech Services">JNJTech Services</option>
          <option value="Lightsource">Lightsource</option>
          <option value="MNC Drilling">MNC Drilling</option>
          <option value="Netline Services">Netline Services</option>
          <option value="Versatile Services">Versatile Services</option>
        </select>

        <label for="forecast-SAM">SAM ID - Please submit 1 form per SAM.</label>
        <select id="forecast-SAM" name="forecast-SAM" required>
          <option value="">Select one</option>
          <option value="K-6ALN-05">K-6ALN-05</option>
          <option value="K-6ALN-20">K-6ALN-20</option>
          <option value="K-6ALN-21">K-6ALN-21</option>
          <option value="K-6ALN-22">K-6ALN-22</option>
          <option value="K-6ALN-23">K-6ALN-23</option>
          <option value="K-6AUU-20">K-6AUU-20</option>
          <option value="K-6BGT-20">K-6BGT-20</option>
          <option value="K-6CGD-20">K-6CGD-20</option>
          <option value="K-6CND-20">K-6CND-20</option>
          <option value="K-6CVN-20">K-6CVN-20</option>
          <option value="K-6DNH-20">K-6DNH-20</option>
          <option value="K-6DNK-20">K-6DNK-20</option>
          <option value="K-6ESP-20">K-6ESP-20</option>
          <option value="K-6ESP-21">K-6ESP-21</option>
          <option value="K-6ESP-40">K-6ESP-40</option>
          <option value="K-6EXM-01">K-6EXM-01</option>
          <option value="K-6HOP-01">K-6HOP-01</option>
          <option value="K-6KAM-20">K-6KAM-20</option>
          <option value="K-6KAT-20">K-6KAT-20</option>
          <option value="K-6KLB-01">K-6KLB-01</option>
          <option value="K-6KOJ-20">K-6KOJ-20</option>
          <option value="K-6LEA-20">K-6LEA-20</option>
          <option value="K-6MBA-20">K-6MBA-20</option>
          <option value="K-6MJM-01">K-6MJM-01</option>
          <option value="K-6NRG-20">K-6NRG-20</option>
          <option value="K-6NWM-01">K-6NWM-01</option>
          <option value="K-6NWM-20">K-6NWM-20</option>
          <option value="K-6PDO-20">K-6PDO-20</option>
          <option value="K-6SCR-20">K-6SCR-20</option>
          <option value="K-6TPC-20">K-6TPC-20</option>
          <option value="L-6ALN-05">L-6ALN-05</option>
          <option value="L-6ALN-20">L-6ALN-20</option>
          <option value="L-6ALN-21">L-6ALN-21</option>
          <option value="L-6ALN-23">L-6ALN-23</option>
          <option value="M-6ALN-21">M-6ALN-21</option>
          <option value="X-6ALN-20">X-6ALN-20</option>
          <option value="X-6BGT-20">X-6BGT-20</option>
          <option value="X-6COI-01">X-6COI-01</option>
          <option value="X-6DNK-20">X-6DNK-20</option>
          <option value="Z-6ALN-22">Z-6ALN-22</option>
          <option value="Z-6KAT-20">Z-6KAT-20</option>
          <option value="Z-6NRG-20">Z-6NRG-20</option>
        </select>

<label for="forecast-discipline">Select the discipline(s) your company will be working on:</label>
    <div class="checkbox-item">
      <input type="checkbox" id="Scoping" name="forecast-discipline[]" value="Scoping">
      <label for="Scoping" style="display:inline; font-weight:normal">Scoping</label>
      <div id="Scoping-field" class="conditional-field">
        <label for="Scoping-crews">Number of Scoping crews forecast for next week:</label>
        <input type="number" id="Scoping-crews" name="Scoping-crews" min="0" placeholder="0">
<label for="Scoping-workdays">Select the day(s) that your Scoping crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Scoping-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Scoping-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Scoping-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Scoping-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Scoping-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Scoping-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Scoping-workdays[]" value="Sunday" /> Sunday<br />

  <p id="scopingworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Blockages" name="forecast-discipline[]" value="Blockages">
      <label for="Blockages" style="display:inline; font-weight:normal">Blockages</label>
      <div id="Blockages-field" class="conditional-field">
        <label for="Blockages-crews">Number of Blockages crews forecast for next week:</label>
        <input type="number" id="Blockages-crews" name="Blockages-crews" min="0" placeholder="0">
<label for="Blockages-workdays">Select the day(s) that your Blockage crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Blockages-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Blockages-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Blockages-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Blockages-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Blockages-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Blockages-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Blockages-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Blockagesworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Pit-Remediation" name="forecast-discipline[]" value="Pit-Remediation">
      <label for="Pit-Remediation" style="display:inline; font-weight:normal">Pit Remediation</label>
      <div id="Pit-Remediation-field" class="conditional-field">
        <label for="Pit-Remediation-crews">Number of Pit Remediation crews forecast for next week:</label>
        <input type="number" id="Pit-Remediation-crews" name="Pit-Remediation-crews" min="0" placeholder="0">
<label for="Pit-workdays">Select the day(s) that your Pit Remediation crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Pit-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Pit-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Pit-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Pit-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Pit-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Pit-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Pit-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Pitworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="New-Build" name="forecast-discipline[]" value="New-Build">
      <label for="New-Build" style="display:inline; font-weight:normal">New Build</label>
      <div id="New-Build-field" class="conditional-field">
        <label for="New-Build-crews">Number of New Build crews forecast for next week:</label>
        <input type="number" id="New-Build-crews" name="New-Build-crews" min="0" placeholder="0">
<label for="New-Build-workdays">Select the day(s) that your New Build crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="New-Build-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="New-Build-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="New-Build-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="New-Build-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="New-Build-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="New-Build-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="New-Build-workdays[]" value="Sunday" /> Sunday<br />

  <p id="New-Buildworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Hauling" name="forecast-discipline[]" value="Hauling">
      <label for="Hauling" style="display:inline; font-weight:normal">Hauling</label>
      <div id="Hauling-field" class="conditional-field">
        <label for="Hauling-crews">Number of Hauling crews forecast for next week:</label>
        <input type="number" id="Hauling-crews" name="Hauling-crews" min="0" placeholder="0">
<label for="Hauling-workdays">Select the day(s) that your Hauling crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Hauling-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Hauling-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Hauling-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Hauling-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Hauling-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Hauling-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Hauling-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Haulingworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Splicing" name="forecast-discipline[]" value="Splicing">
      <label for="Splicing" style="display:inline; font-weight:normal">Splicing</label>
      <div id="Splicing-field" class="conditional-field">
        <label for="Splicing-crews">Number of Splicing crews forecast for next week:</label>
        <input type="number" id="Splicing-crews" name="Splicing-crews" min="0" placeholder="0">
<label for="Splicing-workdays">Select the day(s) that your Splicing crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Splicing-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Splicing-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Splicing-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Splicing-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Splicing-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Splicing-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Splicing-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Splicingworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Service-Locating" name="forecast-discipline[]" value="Service-Locating">
      <label for="Service-Locating" style="display:inline; font-weight:normal">Service Locating</label>
      <div id="Service-Locating-field" class="conditional-field">
        <label for="Service-Locating-crews">Number of Service Locating crews forecast for next week:</label>
        <input type="number" id="Service-Locating-crews" name="Service-Locating-crews" min="0" placeholder="0">
<label for="Locating-workdays">Select the day(s) that your Locating crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Locating-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Locating-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Locating-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Locating-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Locating-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Locating-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Locating-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Locatingworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Reinstatement" name="forecast-discipline[]" value="Reinstatement">
      <label for="Reinstatement" style="display:inline; font-weight:normal">Reinstatement</label>
      <div id="Reinstatement-field" class="conditional-field">
        <label for="Reinstatement-crews">Number of Reinstatement crews forecast for next week:</label>
        <input type="number" id="Reinstatement-crews" name="Reinstatement-crews" min="0" placeholder="0">
<label for="Reinstatement-workdays">Select the day(s) that your Reinstatement crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Reinstatement-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Reinstatement-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Reinstatement-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Reinstatement-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Reinstatement-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Reinstatement-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Reinstatement-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Reinstatementworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
      <input type="checkbox" id="Other-Civils" name="forecast-discipline[]" value="Other-Civils">
      <label for="Other-Civils" style="display:inline; font-weight:normal">Other Civils (eg. Pit Link-in's)</label>
      <div id="Other-Civils-field" class="conditional-field">
        <label for="Other-Civils-crews">Number of Other Civils crews forecast for next week:</label>
        <input type="number" id="Other-Civils-crews" name="Other-Civils-crews" min="0" placeholder="0">
<label for="Civils-workdays">Select the day(s) that your Other Civils crews are forecast to be in the field next week (exclude Mob & Demob days):</label>

  <input type="checkbox" name="Civils-workdays[]" value="Monday" /> Monday<br />
  <input type="checkbox" name="Civils-workdays[]" value="Tuesday" /> Tuesday<br />
  <input type="checkbox" name="Civils-workdays[]" value="Wednesday" /> Wednesday<br />
  <input type="checkbox" name="Civils-workdays[]" value="Thursday" /> Thursday<br />
  <input type="checkbox" name="Civils-workdays[]" value="Friday" /> Friday<br />
  <input type="checkbox" name="Civils-workdays[]" value="Saturday" /> Saturday<br />
  <input type="checkbox" name="Civils-workdays[]" value="Sunday" /> Sunday<br />

  <p id="Civilsworkdays-error" style="color: red; display: none;">Please select at least one work day.</p>
      </div><br />
    </div>
<p id="discipline-error" class="error">Please select at least one discipline.</p>

        <div class="form-footer">
          <button type="button" class="btn-forecast" onclick="confirmReset('forecast')">Back</button>
          <button type="submit">Submit Forecast</button>
        </div>
      </form>
    </div>


    <div id="form-bog" class="form-section hidden">
      <h3>Daily Pre-Start: Boots on Ground: Genus N2P project</h3>
      <p>Please complete prior to starting work.<br>This does not replace the JHA (JHA to be uploaded to IBISS - one required per site).</p>
      <form id="bog-form" onsubmit="validateBogForm()">

        <label for="bog-date">Date</label>
        <input type="date" id="bog-date" name="bog-date" required />

        <label for="bog-site-location">First Site Location</label>
        <input type="text" id="bog-site-location" name="bog-site-location" class="address-autocomplete" required />

        <label for="bog-site-contact">Onsite Crew Lead</label>
        <input type="text" id="bog-site-contact" name="bog-site-contact" required />

        <label for="bog-onsite-crew-lead-mobile">Onsite Crew Lead Mobile</label>
        <input type="tel" id="bog-onsite-crew-lead-mobile" name="bog-onsite-crew-lead-mobile" pattern="04\d{8}" maxlength="10" placeholder="Enter 10-digit number" oninvalid="this.setCustomValidity('Enter number as 04xxxxxxxx')" oninput="this.setCustomValidity('')" required />

        <label for="bog-company-name">Your Company Name</label>
        <select id="bog-company-name" name="bog-company-name" required>
          <option value="">Select one</option>
          <option value="Boretech Contracting">Boretech Contracting</option>
          <option value="Connectit Communications">Connectit Communications</option>
          <option value="Dawn Techcomms">Dawn Techcomms</option>
          <option value="DDS Underground">DDS Underground</option>
          <option value="Dizza Communications">Dizza Communications</option>
          <option value="Engytech Engineering Services">Engytech Engineering Services</option>
          <option value="Feverpitch Enterprises">Feverpitch Enterprises</option>
          <option value="Genus Services">Genus Services</option>
          <option value="JNJTech Services">JNJTech Services</option>
          <option value="Lightsource">Lightsource</option>
          <option value="MNC Drilling">MNC Drilling</option>
          <option value="Netline Services">Netline Services</option>
          <option value="Versatile Services">Versatile Services</option>
        </select>
        
        <label for="bog-discipline">Discipline</label>
        <select id="bog-discipline" name="bog-discipline" required>
          <option value="">Select one</option>
          <option value="Scoping">Scoping</option>
          <option value="Blockages">Blockages</option>
          <option value="Pit Remediation">Pit Remediation</option>
          <option value="New Build (Drilling)">New Build (Drilling)</option>
          <option value="New Build (Trenching)">New Build (Trenching)</option>
          <option value="Civils (Reinstatement)">Civils (Reinstatement)</option>
          <option value="Civils (Pit Link-in)">Civils (Pit Link-in)</option>
          <option value="Service Locating">Service Locating</option>
          <option value="Hauling">Hauling</option>
          <option value="Splicing">Splicing</option>
        </select>
        
        <label for="bog-Number-of-People-at-Location">Number of People in Crew at Location</label>
        <input type="number" id="bog-Number-of-People-at-Location" name="bog-Number-of-People-at-Location" step="1" required>
        
        <label for="bog-crews-names">List Names of Workers in Crew</label>
        <textarea id="bog-crews-names" name="bog-crews-names" placeholder="Separate Names with a comma (First Name Last Name required)" required></textarea>

        <label for="bog-SAM">SAM ID</label>
        <select id="bog-SAM" name="bog-SAM" required>
          <option value="">Select one</option>
          <option value="K-6ALN-05">K-6ALN-05</option>
          <option value="K-6ALN-20">K-6ALN-20</option>
          <option value="K-6ALN-21">K-6ALN-21</option>
          <option value="K-6ALN-22">K-6ALN-22</option>
          <option value="K-6ALN-23">K-6ALN-23</option>
          <option value="K-6AUU-20">K-6AUU-20</option>
          <option value="K-6BGT-20">K-6BGT-20</option>
          <option value="K-6CGD-20">K-6CGD-20</option>
          <option value="K-6CND-20">K-6CND-20</option>
          <option value="K-6CVN-20">K-6CVN-20</option>
          <option value="K-6DNH-20">K-6DNH-20</option>
          <option value="K-6DNK-20">K-6DNK-20</option>
          <option value="K-6ESP-20">K-6ESP-20</option>
          <option value="K-6ESP-21">K-6ESP-21</option>
          <option value="K-6ESP-40">K-6ESP-40</option>
          <option value="K-6EXM-01">K-6EXM-01</option>
          <option value="K-6HOP-01">K-6HOP-01</option>
          <option value="K-6KAM-20">K-6KAM-20</option>
          <option value="K-6KAT-20">K-6KAT-20</option>
          <option value="K-6KLB-01">K-6KLB-01</option>
          <option value="K-6KOJ-20">K-6KOJ-20</option>
          <option value="K-6LEA-20">K-6LEA-20</option>
          <option value="K-6MBA-20">K-6MBA-20</option>
          <option value="K-6MJM-01">K-6MJM-01</option>
          <option value="K-6NRG-20">K-6NRG-20</option>
          <option value="K-6NWM-01">K-6NWM-01</option>
          <option value="K-6NWM-20">K-6NWM-20</option>
          <option value="K-6PDO-20">K-6PDO-20</option>
          <option value="K-6SCR-20">K-6SCR-20</option>
          <option value="K-6TPC-20">K-6TPC-20</option>
          <option value="L-6ALN-05">L-6ALN-05</option>
          <option value="L-6ALN-20">L-6ALN-20</option>
          <option value="L-6ALN-21">L-6ALN-21</option>
          <option value="L-6ALN-23">L-6ALN-23</option>
          <option value="M-6ALN-21">M-6ALN-21</option>
          <option value="X-6ALN-20">X-6ALN-20</option>
          <option value="X-6BGT-20">X-6BGT-20</option>
          <option value="X-6COI-01">X-6COI-01</option>
          <option value="X-6DNK-20">X-6DNK-20</option>
          <option value="Z-6ALN-22">Z-6ALN-22</option>
          <option value="Z-6KAT-20">Z-6KAT-20</option>
          <option value="Z-6NRG-20">Z-6NRG-20</option>
        </select>

        <label for="bog-ADA">ADA ID</label>
        <select id="bog-ADA" name="bog-ADA" required>
          <option value="">Select one</option>
          <option value="01">01</option>
          <option value="02">02</option>
          <option value="03">03</option>
          <option value="04">04</option>
          <option value="05">05</option>
          <option value="06">06</option>
          <option value="07">07</option>
          <option value="08">08</option>
          <option value="09">09</option>
          <option value="10">10</option>
          <option value="11">11</option>
          <option value="12">12</option>
          <option value="13">13</option>
          <option value="14">14</option>
          <option value="15">15</option>
          <option value="16">16</option>
          <option value="17">17</option>
          <option value="18">18</option>
          <option value="19">19</option>
          <option value="20">20</option>
          <option value="21">21</option>
          <option value="22">22</option>
          <option value="23">23</option>
          <option value="24">24</option>
          <option value="25">25</option>
          <option value="27">27</option>
          <option value="28">28</option>
          <option value="30">30</option>
          <option value="31">31</option>
        </select>
        
        <label for="bog-Genus-FCM">Your Genus FCM</label>
        <select id="bog-Genus-FCM" name="bog-Genus-FCM" required>
          <option value="">Select one</option>
          <option value="Alex McConville">Alex McConville</option>
          <option value="Sean Muldoon">Sean Muldoon</option>
        </select>
                
        <label for="bog-jha">I confirm all workers have been inducted and have signed onto the JHA.</label>
          <input type="checkbox" id="bog-jha-uploaded" name="bog-jha-uploaded" required> Please induct all visitors to JHA and complete prior to starting at each site.

    <label for="bog-SWMS">
    Discipline with task Specific SWMS
    <br />
    (SWMS-SHEQ-CMS-0011 Site Establishment, SWMS-SHEQ-CMS-0001 Access to Pits & Manholes - required on all sites, SWMS-SHEQ-CMS-0006 Asbestos (ACM) required for all ACM sites)
  </label>
  <p>All workers to have signed into Task SWMS being utilised with copy available - latest version.</p>

  <input type="checkbox" name="bog-SWMS[]" value="Scoping" /> Scoping (0017 Surveying & Scoping)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Trenching" /> Trenching (0012 Excavation & Trenching)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Drilling" /> Drilling (0016 Directional Boring, 0012 Excavation & Trenching)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Pit Installation" /> Pit Installation (0002 Installing Replacing Repairing Pits Manholes)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Hauling" /> Hauling (0008 Rod Roping & Cable Hauling)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Splicing" /> Splicing (0007 Cable Jointing)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Clear Blockage" /> Clear Blockage (0008 Rod Roping & Cable Hauling)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Service Locator" /> Service Locator (0012 Excavation & Trenching)<br />
  <input type="checkbox" name="bog-SWMS[]" value="Reinstatement" /> Reinstatement (0012 Excavation & Trenching)<br />

  <p id="swms-error" style="color: red; display: none;">Please select at least one SWMS discipline.</p>

        <label for="bog-ACM">Will you be disturbing/modifying any possible ACM while onsite?</label>
        <select id="bog-ACM" name="bog-ACM" onchange="toggleACMField()" required>
          <option value="">Select one</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

<!-- Conditional Field -->
<div id="bog-acm-notification-field" style="display: none; margin-top: 10px;">
  <label for="bog-acm-yes">If yes, have you received your Genus ACM Removal Notification Code and placed on your Construction</label>
  Required for all ACM Pit replacement work, with Company Class B, worker to have remove Non-Friable accreditation with ACM supervisor in the vicinity.<br />
  <select id="bog-acm-yes" name="bog-acm-yes">
          <option value="">Select one</option>
          <option value="Yes">Yes, continue</option>
          <option value="No">No, stop work and contact your Genus FCM</option>
        </select>
</div>
                
        <label for="bog-guards">Ensure Telstra guards are fully locked around all open manholes. Calibrated gas detector required for spot sampling manhole access and ongoing monitoring.</label>
          <input type="checkbox" id="bog-guards" name="bog-guards" required> Refer to HSE Guidance Note - Spot Sampling (Manhole) Gas Action Chart.
                
        <label for="bog-excavation">Excavation work- have you follow the 5Ps  with a competent locator onsite?</label>
          <input type="checkbox" id="bog-excavation" name="bog-excavation" required> Refer to HSE Guidance Note – Construction JHA and Excavation permit process
        
        <label for="bog-comments">Additional Comments? Escalate SHEQ concerns to your Genus FCM/Supervisor or SHEQ Advisor</label>
        <textarea id="bog-comments" name="bog-comments" placeholder="Track required actions in MyOsh with SHEQ support"></textarea>

        <div class="form-footer">
          <button type="button" class="btn-back" onclick="confirmReset('bog')">Back</button>
          <button type="submit">Submit BOG</button>
        </div>
      </form>
    </div>

    <div id="form-reinstatement" class="form-section hidden">
      <h3>Reinstatement Register: Genus N2P project</h3>
      <p>Please complete for any temporary reinstatement works.</p>
      <form id="reinstatement-form" onsubmit="return validateGenericForm('reinstatement-form')">

	<!-- Hidden input hardcoded to 'Reinstatement' -->
	<input type="hidden" id="reinstatement-type" name="reinstatement-type" value="Reinstatement">

        <label for="reinstatement-site-contact">Your Name</label>
        <input type="text" id="reinstatement-site-contact" name="reinstatement-site-contact" required />

        <label for="reinstatement-date">Temp Reinstatement Date</label>
        <input type="date" id="reinstatement-date" name="reinstatement-date" required />

        <label for="reinstatement-address">Address of Reinstatement</label>
        <input type="text" id="reinstatement-address" name="reinstatement-address" class="address-autocomplete" required />

        <label for="reinstatement-SAM">SAM ID</label>
        <select id="reinstatement-SAM" name="reinstatement-SAM" required>
          <option value="">Select one</option>
          <option value="K-6ALN-05">K-6ALN-05</option>
          <option value="K-6ALN-20">K-6ALN-20</option>
          <option value="K-6ALN-21">K-6ALN-21</option>
          <option value="K-6ALN-22">K-6ALN-22</option>
          <option value="K-6ALN-23">K-6ALN-23</option>
          <option value="K-6AUU-20">K-6AUU-20</option>
          <option value="K-6BGT-20">K-6BGT-20</option>
          <option value="K-6CGD-20">K-6CGD-20</option>
          <option value="K-6CND-20">K-6CND-20</option>
          <option value="K-6CVN-20">K-6CVN-20</option>
          <option value="K-6DNH-20">K-6DNH-20</option>
          <option value="K-6DNK-20">K-6DNK-20</option>
          <option value="K-6ESP-20">K-6ESP-20</option>
          <option value="K-6ESP-21">K-6ESP-21</option>
          <option value="K-6ESP-40">K-6ESP-40</option>
          <option value="K-6EXM-01">K-6EXM-01</option>
          <option value="K-6HOP-01">K-6HOP-01</option>
          <option value="K-6KAM-20">K-6KAM-20</option>
          <option value="K-6KAT-20">K-6KAT-20</option>
          <option value="K-6KLB-01">K-6KLB-01</option>
          <option value="K-6KOJ-20">K-6KOJ-20</option>
          <option value="K-6LEA-20">K-6LEA-20</option>
          <option value="K-6MBA-20">K-6MBA-20</option>
          <option value="K-6MJM-01">K-6MJM-01</option>
          <option value="K-6NRG-20">K-6NRG-20</option>
          <option value="K-6NWM-01">K-6NWM-01</option>
          <option value="K-6NWM-20">K-6NWM-20</option>
          <option value="K-6PDO-20">K-6PDO-20</option>
          <option value="K-6SCR-20">K-6SCR-20</option>
          <option value="K-6TPC-20">K-6TPC-20</option>
          <option value="L-6ALN-05">L-6ALN-05</option>
          <option value="L-6ALN-20">L-6ALN-20</option>
          <option value="L-6ALN-21">L-6ALN-21</option>
          <option value="L-6ALN-23">L-6ALN-23</option>
          <option value="M-6ALN-21">M-6ALN-21</option>
          <option value="X-6ALN-20">X-6ALN-20</option>
          <option value="X-6BGT-20">X-6BGT-20</option>
          <option value="X-6COI-01">X-6COI-01</option>
          <option value="X-6DNK-20">X-6DNK-20</option>
          <option value="Z-6ALN-22">Z-6ALN-22</option>
          <option value="Z-6KAT-20">Z-6KAT-20</option>
          <option value="Z-6NRG-20">Z-6NRG-20</option>
        </select>

        <label for="reinstatement-ADA">ADA ID</label>
        <select id="reinstatement-ADA" name="reinstatement-ADA" required>
          <option value="">Select one</option>
          <option value="01">01</option>
          <option value="02">02</option>
          <option value="03">03</option>
          <option value="04">04</option>
          <option value="05">05</option>
          <option value="06">06</option>
          <option value="07">07</option>
          <option value="08">08</option>
          <option value="09">09</option>
          <option value="10">10</option>
          <option value="11">11</option>
          <option value="12">12</option>
          <option value="13">13</option>
          <option value="14">14</option>
          <option value="15">15</option>
          <option value="16">16</option>
          <option value="17">17</option>
          <option value="18">18</option>
          <option value="19">19</option>
          <option value="20">20</option>
          <option value="21">21</option>
          <option value="22">22</option>
          <option value="23">23</option>
          <option value="24">24</option>
          <option value="25">25</option>
          <option value="27">27</option>
          <option value="28">28</option>
          <option value="30">30</option>
          <option value="31">31</option>
        </select>

        <label for="reinstatement-note-id">Note ID</label>
<input
  type="text"
  id="reinstatement-note-id"
  name="reinstatement-note-id"
  placeholder="Enter Note ID number only, e.g. 12345"
  pattern="^\d{5}$"
  oninvalid="this.setCustomValidity('Enter a 5-digit number like 12345')"
  oninput="this.setCustomValidity('')"
  required
/>

        <label for="reinstatement-asset-type">Asset Type</label>
        <select id="reinstatement-asset-type" name="reinstatement-asset-type" required>
          <option value="">Select one</option>
          <option value="Duct - P50">Duct - P50</option>
          <option value="Pits - P5">Pits - P5</option>
          <option value="Pits - P6">Pits - P6</option>
          <option value="Pits - P8">Pits - P8</option>
        </select>

        <label for="reinstatement-surface-type">Surface Type</label>
        <select id="reinstatement-surface-type" name="reinstatement-surface-type" onchange="toggleSurfaceTypeField()" required>
          <option value="">Select one</option>
          <option value="Aggregate">Aggregate</option>
          <option value="Bitument">Bitument</option>
          <option value="Concrete">Concrete</option>
          <option value="Cracker Dust">Cracker Dust</option>
          <option value="Gravel">Gravel</option>
          <option value="Limestone">Limestone</option>
          <option value="Paved">Paved</option>
          <option value="Other">Other</option>
        </select>

        <!-- Conditional Field -->
<div id="reinstatement-surface-type-notification-field" style="display: none; margin-top: 10px;">
  <label for="reinstatement-surface-type-other">Surface Type - Other</label>
<input type="text" id="reinstatement-surface-type-other" name="reinstatement-surface-type-other" />
</div>

        <label for="reinstatement-location-type">Location Type</label>
        <select id="reinstatement-location-type" name="reinstatement-location-type" onchange="toggleLocationTypeField()" required>
          <option value="">Select one</option>
          <option value="Driveway">Driveway</option>
          <option value="Footpath">Footpath</option>
          <option value="Roadway">Roadway</option>
          <option value="Other">Other</option>
        </select>

        <!-- Conditional Field -->
<div id="reinstatement-location-type-notification-field" style="display: none; margin-top: 10px;">
  <label for="reinstatement-location-type-other">Location Type - Other</label>
<input type="text" id="reinstatement-location-type-other" name="reinstatement-location-type-other" />
</div>

        <label for="reinstatement-material-type">Temp Material Used</label>
        <select id="reinstatement-material-type" name="reinstatement-material-type" onchange="toggleMaterialTypeField()" required>
          <option value="">Select one</option>
          <option value="Cold Mix">Cold Mix</option>
          <option value="Cracker Dust">Cracker Dust</option>
          <option value="Gravel / Sand">Gravel / Sand</option>
          <option value="Other">Other</option>
        </select>

        <!-- Conditional Field -->
<div id="reinstatement-material-type-notification-field" style="display: none; margin-top: 10px;">
  <label for="reinstatement-material-type-other">Temp Material Used - Other</label>
<input type="text" id="reinstatement-material-type-other" name="reinstatement-material-type-other" />
</div>

        <label for="reinstatement-company-name">Temp Contractor Company Name</label>
        <select id="reinstatement-company-name" name="reinstatement-company-name" required>
          <option value="">Select one</option>
          <option value="Boretech Contracting">Boretech Contracting</option>
          <option value="Connectit Communications">Connectit Communications</option>
          <option value="Dawn Techcomms">Dawn Techcomms</option>
          <option value="DDS Underground">DDS Underground</option>
          <option value="Dizza Communications">Dizza Communications</option>
          <option value="Engytech Engineering Services">Engytech Engineering Services</option>
          <option value="Feverpitch Enterprises">Feverpitch Enterprises</option>
          <option value="Genus Services">Genus Services</option>
          <option value="JNJTech Services">JNJTech Services</option>
          <option value="Lightsource">Lightsource</option>
          <option value="MNC Drilling">MNC Drilling</option>
          <option value="Netline Services">Netline Services</option>
          <option value="Versatile Services">Versatile Services</option>
        </select>

        <label for="reinstatement-perm-date">Proposed Permanent Reinstatement Date</label>
        <input type="date" id="reinstatement-perm-date" name="reinstatement-perm-date" required />

        <label for="reinstatement-area">Permanent Reinstatement Area (m2)</label>
        <select id="reinstatement-area" name="reinstatement-area" required>
          <option value="">Select one</option>
          <option value="Less than or equal to 3m2">Less than or equal to 3m2</option>
          <option value="Greater than 3m2">Greater than 3m2</option>
        </select>

        <label for="reinstatement-panel">Full Panel Required?</label>
        <select id="reinstatement-panel" name="reinstatement-panel" required>
          <option value="">Select one</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <div class="form-footer">
          <button type="button" class="btn-back" onclick="confirmReset('reinstatement')">Back</button>
          <button type="submit">Submit Reinstatement</button>
        </div>
      </form>
    </div>

    <div id="form-pitlinkin" class="form-section hidden">
      <h3>Pit Link-in Register: Genus N2P project</h3>
      <p>Please complete for any pit link-in's required to be done by another contractor.</p>
      <form id="pitlinkin-form" onsubmit="return validateGenericForm('pitlinkin-form')">

	<!-- Hidden input hardcoded to 'Pit Link-in' -->
	<input type="hidden" id="pitlinkin-type" name="pitlinkin-type" value="Pit Link-in">

        <label for="pitlinkin-site-contact">Your Name</label>
        <input type="text" id="pitlinkin-site-contact" name="pitlinkin-site-contact" required />

        <label for="pitlinkin-date">Date Reported</label>
        <input type="date" id="pitlinkin-date" name="pitlinkin-date" required />

        <label for="pitlinkin-location">Pit Location</label>
        <input type="text" id="pitlinkin-location" name="pitlinkin-location" class="address-autocomplete" required />

        <label for="pitlinkin-SAM">SAM ID</label>
        <select id="pitlinkin-SAM" name="pitlinkin-SAM" required>
          <option value="">Select one</option>
          <option value="K-6ALN-05">K-6ALN-05</option>
          <option value="K-6ALN-20">K-6ALN-20</option>
          <option value="K-6ALN-21">K-6ALN-21</option>
          <option value="K-6ALN-22">K-6ALN-22</option>
          <option value="K-6ALN-23">K-6ALN-23</option>
          <option value="K-6AUU-20">K-6AUU-20</option>
          <option value="K-6BGT-20">K-6BGT-20</option>
          <option value="K-6CGD-20">K-6CGD-20</option>
          <option value="K-6CND-20">K-6CND-20</option>
          <option value="K-6CVN-20">K-6CVN-20</option>
          <option value="K-6DNH-20">K-6DNH-20</option>
          <option value="K-6DNK-20">K-6DNK-20</option>
          <option value="K-6ESP-20">K-6ESP-20</option>
          <option value="K-6ESP-21">K-6ESP-21</option>
          <option value="K-6ESP-40">K-6ESP-40</option>
          <option value="K-6EXM-01">K-6EXM-01</option>
          <option value="K-6HOP-01">K-6HOP-01</option>
          <option value="K-6KAM-20">K-6KAM-20</option>
          <option value="K-6KAT-20">K-6KAT-20</option>
          <option value="K-6KLB-01">K-6KLB-01</option>
          <option value="K-6KOJ-20">K-6KOJ-20</option>
          <option value="K-6LEA-20">K-6LEA-20</option>
          <option value="K-6MBA-20">K-6MBA-20</option>
          <option value="K-6MJM-01">K-6MJM-01</option>
          <option value="K-6NRG-20">K-6NRG-20</option>
          <option value="K-6NWM-01">K-6NWM-01</option>
          <option value="K-6NWM-20">K-6NWM-20</option>
          <option value="K-6PDO-20">K-6PDO-20</option>
          <option value="K-6SCR-20">K-6SCR-20</option>
          <option value="K-6TPC-20">K-6TPC-20</option>
          <option value="L-6ALN-05">L-6ALN-05</option>
          <option value="L-6ALN-20">L-6ALN-20</option>
          <option value="L-6ALN-21">L-6ALN-21</option>
          <option value="L-6ALN-23">L-6ALN-23</option>
          <option value="M-6ALN-21">M-6ALN-21</option>
          <option value="X-6ALN-20">X-6ALN-20</option>
          <option value="X-6BGT-20">X-6BGT-20</option>
          <option value="X-6COI-01">X-6COI-01</option>
          <option value="X-6DNK-20">X-6DNK-20</option>
          <option value="Z-6ALN-22">Z-6ALN-22</option>
          <option value="Z-6KAT-20">Z-6KAT-20</option>
          <option value="Z-6NRG-20">Z-6NRG-20</option>
        </select>

        <label for="pitlinkin-ADA">ADA ID</label>
        <select id="pitlinkin-ADA" name="pitlinkin-ADA" required>
          <option value="">Select one</option>
          <option value="01">01</option>
          <option value="02">02</option>
          <option value="03">03</option>
          <option value="04">04</option>
          <option value="05">05</option>
          <option value="06">06</option>
          <option value="07">07</option>
          <option value="08">08</option>
          <option value="09">09</option>
          <option value="10">10</option>
          <option value="11">11</option>
          <option value="12">12</option>
          <option value="13">13</option>
          <option value="14">14</option>
          <option value="15">15</option>
          <option value="16">16</option>
          <option value="17">17</option>
          <option value="18">18</option>
          <option value="19">19</option>
          <option value="20">20</option>
          <option value="21">21</option>
          <option value="22">22</option>
          <option value="23">23</option>
          <option value="24">24</option>
          <option value="25">25</option>
          <option value="27">27</option>
          <option value="28">28</option>
          <option value="30">30</option>
          <option value="31">31</option>
        </select>

        <label for="pitlinkin-duct-fir">Duct FIR number</label>
        <input type="text" id="pitlinkin-duct-fir" name="pitlinkin-duct-fir" required />

        <label for="pitlinkin-pit-fir">Pit FIR number</label>
        <input type="text" id="pitlinkin-pit-fir" name="pitlinkin-pit-fir" required />

        <label for="pitlinkin-pit-material">Pit Material</label>
        <select id="pitlinkin-pit-material" name="pitlinkin-pit-material" required>
          <option value="">Select one</option>
          <option value="ACM">ACM</option>
          <option value="Concrete / Brick">Concrete / Brick</option>
          <option value="Plastic">Plastic</option>
        </select>

<label for="pitlinkin-pit-type">Pit Type</label>
        <select id="pitlinkin-pit-type" name="pitlinkin-pit-type" onchange="togglePitTypeField()" required>
          <option value="">Select one</option>
          <option value="B Pit">B Pit</option>
          <option value="C Pit">C Pit</option>
          <option value="D Pit">D Pit</option>
          <option value="P2">P2</option>
          <option value="P3">P3</option>
          <option value="P5">P5</option>
          <option value="P6">P6</option>
          <option value="P8">P8</option>
          <option value="P9">P9</option>
          <option value="Manhole">Manhole</option>
          <option value="Other">Other</option>
        </select>

        <!-- Conditional Field -->
<div id="pitlinkin-pit-type-notification-field" style="display: none; margin-top: 10px;">
  <label for="pitlinkin-pit-type-other">Pit Type - Other</label>
<input type="text" id="pitlinkin-pit-type-other" name="pitlinkin-pit-type-other" />
</div>

        <label for="pitlinkin-ffp">Pit Fit for Purpose</label>
        <select id="pitlinkin-ffp" name="pitlinkin-ffp" required>
          <option value="">Select one</option>
          <option value="Yes">Yes</option>
          <option value="No - Contact FCM">No - Contact FCM</option>
        </select>

        <label for="pitlinkin-duct-state">Current Duct State</label>
        <select id="pitlinkin-duct-state" name="pitlinkin-duct-state" required>
          <option value="">Select one</option>
          <option value="Buried">Buried</option>
          <option value="Exposed">Exposed</option>
        </select>

        <label for="pitlinkin-rrp">RRP Completed?</label>
        <select id="pitlinkin-rrp" name="pitlinkin-rrp" required>
          <option value="">Select one</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <label for="pitlinkin-reinstatement-req">Reinstatement Required?</label>
        <select id="pitlinkin-reinstatement-req" name="pitlinkin-reinstatement-req" required>
          <option value="">Select one</option>
          <option value="Yes - Added to Reinstatement Register">Yes - Added to Reinstatement Register</option>
          <option value="No">No</option>
        </select>

        <label for="pitlinkin-company-name">Reported By</label>
        <select id="pitlinkin-company-name" name="pitlinkin-company-name" required>
          <option value="">Select one</option>
          <option value="Boretech Contracting">Boretech Contracting</option>
          <option value="Connectit Communications">Connectit Communications</option>
          <option value="Dawn Techcomms">Dawn Techcomms</option>
          <option value="DDS Underground">DDS Underground</option>
          <option value="Dizza Communications">Dizza Communications</option>
          <option value="Engytech Engineering Services">Engytech Engineering Services</option>
          <option value="Feverpitch Enterprises">Feverpitch Enterprises</option>
          <option value="Genus Services">Genus Services</option>
          <option value="JNJTech Services">JNJTech Services</option>
          <option value="Lightsource">Lightsource</option>
          <option value="MNC Drilling">MNC Drilling</option>
          <option value="Netline Services">Netline Services</option>
          <option value="Versatile Services">Versatile Services</option>
        </select>

        <div class="form-footer">
          <button type="button" class="btn-back" onclick="confirmReset('pitlinkin')">Back</button>
          <button type="submit">Submit Pit Link-in</button>
        </div>
      </form>
    </div>
  </main>

<script>
    function handleCheckboxChange(checkbox) {
      const conditionalField = document.getElementById(checkbox.id + '-field');
      if (checkbox.checked) {
        conditionalField.classList.add('show');
      } else {
        conditionalField.classList.remove('show');
        const input = conditionalField.querySelector('input[type="number"]');
        if (input) input.value = '';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('input[name="forecast-discipline[]"]').forEach(checkbox => {
    checkbox.addEventListener('change', () => handleCheckboxChange(checkbox));
    handleCheckboxChange(checkbox); // Ensure initial state is correct on load
  });

      document.getElementById('forecast-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const checked = document.querySelectorAll('input[name="forecast-discipline[]"]:checked');
        const errorEl = document.getElementById('discipline-error');
        if (checked.length === 0) {
          errorEl.style.display = 'block';
        } else {
          errorEl.style.display = 'none';
          alert('Form submitted!');
        }
      });
    });
  </script>

<script>
        function getNextSunday() {
            const today = new Date();
            const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, etc.
            
            // Calculate days until next Sunday
            // If today is Sunday (0), we want next Sunday (7 days)
            // If today is Monday (1), we want 6 days to reach Sunday
            // If today is Saturday (6), we want 1 day to reach Sunday
            const daysUntilSunday = currentDay === 0 ? 7 : (7 - currentDay);
            
            // Create new date for next Sunday + 7 more days
            const nextSunday = new Date(today);
            nextSunday.setDate(today.getDate() + daysUntilSunday + 7);
            
            return nextSunday;
        }
        
        function formatDateForInput(date) {
            // Format date as YYYY-MM-DD for HTML date input
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        function formatDateForDisplay(date) {
            // Format date as DD/MM/YYYY for display
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}/${month}/${year}`;
        }
        
        function initializeDateField() {
            const today = new Date();
            const nextSunday = getNextSunday();
            
            // Set the date input value
            const dateInput = document.getElementById('forecast-date');
            dateInput.value = formatDateForInput(nextSunday);
            
            // Display current date and calculated Sunday
            const currentDateDiv = document.getElementById('current-date');
            currentDateDiv.innerHTML = `
                Today: ${formatDateForDisplay(today)}<br>
                Week ending: ${formatDateForDisplay(nextSunday)}
            `;
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializeDateField);
    </script>

  <script>
function confirmReset(formType) {
            const isConfirmed = confirm("Are you sure you want to reset this form and return to the form selection screen?");
            
            if (isConfirmed) {
                // Reset the specific form
                location.reload();
            }
        }

    function toggleACMField() {
  const select = document.getElementById("bog-ACM");
  const acmField = document.getElementById("bog-acm-notification-field");
  const acmYes = document.getElementById("bog-acm-yes");

  if (select.value === "Yes") {
    acmField.style.display = "block";
    acmYes.setAttribute("required", "required");
  } else {
    acmField.style.display = "none";
    acmYes.removeAttribute("required");
  }
}

    function toggleSurfaceTypeField() {
      const surfacetypeSelect = document.getElementById("reinstatement-surface-type");
      const surfacetypeField = document.getElementById("reinstatement-surface-type-notification-field");
      const surfacetypeInput = document.getElementById("reinstatement-surface-type-other");

      if (surfacetypeSelect.value === "Other") {
        surfacetypeField.style.display = "block";
        surfacetypeInput.required = true;
      } else {
        surfacetypeField.style.display = "none";
        surfacetypeInput.required = false;
        surfacetypeInput.value = ""; // clear the input if hidden
      }
    }

    function toggleLocationTypeField() {
      const locationtypeSelect = document.getElementById("reinstatement-location-type");
      const locationtypeField = document.getElementById("reinstatement-location-type-notification-field");
      const locationtypeInput = document.getElementById("reinstatement-location-type-other");

      if (locationtypeSelect.value === "Other") {
        locationtypeField.style.display = "block";
        locationtypeInput.required = true;
      } else {
       locationtypeField.style.display = "none";
        locationtypeInput.required = false;
        locationtypeInput.value = ""; // clear the input if hidden
      }
    }

    function toggleMaterialTypeField() {
      const materialtypeSelect = document.getElementById("reinstatement-material-type");
      const materialtypeField = document.getElementById("reinstatement-material-type-notification-field");
      const materialtypeInput = document.getElementById("reinstatement-material-type-other");

      if (materialtypeSelect.value === "Other") {
        materialtypeField.style.display = "block";
        materialtypeInput.required = true;
      } else {
       materialtypeField.style.display = "none";
        materialtypeInput.required = false;
        materialtypeInput.value = ""; // clear the input if hidden
      }
    }

    function togglePitTypeField() {
      const pittypeSelect = document.getElementById("pitlinkin-pit-type");
      const pittypeField = document.getElementById("pitlinkin-pit-type-notification-field");
      const pittypeInput = document.getElementById("pitlinkin-pit-type-other");

      if (pittypeSelect.value === "Other") {
        pittypeField.style.display = "block";
        pittypeInput.required = true;
      } else {
       pittypeField.style.display = "none";
        pittypeInput.required = false;
        pittypeInput.value = ""; // clear the input if hidden
      }
    }

// Airtable configuration - Replace with your actual values
        const AIRTABLE_CONFIG = {
            Forecast: {
                baseId: 'appegmSLEvbJSkRvd',
                tableId: 'Forecast',
                apiKey: 'patHwUeS1KtSAEshe.6c903369a5dfb1bd994c2c3efb3d9cf037198cec7b4daec52f388fa57429ab6c'
            },
            bog: {
                baseId: 'appegmSLEvbJSkRvd',
                tableId: 'Table 1',
                apiKey: 'patHwUeS1KtSAEshe.6c903369a5dfb1bd994c2c3efb3d9cf037198cec7b4daec52f388fa57429ab6c'
            },
            reinstatement: {
                baseId: 'appI6d8aW2GqotwlL',
                tableId: 'Table 1',
                apiKey: 'patHwUeS1KtSAEshe.6c903369a5dfb1bd994c2c3efb3d9cf037198cec7b4daec52f388fa57429ab6c'
            },
            pitlinkin: {
                baseId: 'appI6d8aW2GqotwlL',
                tableId: 'Table 1',
                apiKey: 'patHwUeS1KtSAEshe.6c903369a5dfb1bd994c2c3efb3d9cf037198cec7b4daec52f388fa57429ab6c'
            }
        };

	   // Global submitToAirtable function
           function submitToAirtable(formType, formData) {
            const config = AIRTABLE_CONFIG[formType];
            const url = `https://api.airtable.com/v0/${config.baseId}/${config.tableId}`;
            
            return fetch(url, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${config.apiKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    records: [{
                        fields: formData
  		}],
 		typecast: true
	       })
            });
        }


    // Set default date to today in Western Standard Time (Australia/Perth)
    function setDefaultDate() {
      const now = new Date();
      const perthTime = new Date(now.toLocaleString("en-US", {timeZone: "Australia/Perth"}));
      const year = perthTime.getFullYear();
      const month = String(perthTime.getMonth() + 1).padStart(2, '0');
      const day = String(perthTime.getDate()).padStart(2, '0');
      const todayString = `${year}-${month}-${day}`;
      
      // Set default date for all forms
      const bogDateField = document.getElementById('bog-date');
      const pitlinkinDateField = document.getElementById('pitlinkin-date');
      const reinstatementDateField = document.getElementById('reinstatement-date');

      if (bogDateField) bogDateField.value = todayString;
      if (pitlinkinDateField) pitlinkinDateField.value = todayString;
      if (reinstatementDateField) reinstatementDateField.value = todayString;
    }

function showForm(formType) {
    console.log('showForm called with:', formType);

    // Hide thank you message
    document.getElementById('thank-you-message').style.display = 'none';
        
    // Hide all forms using both methods
    const forms = ['form-forecast', 'form-bog', 'form-reinstatement', 'form-pitlinkin'];
    forms.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.classList.add('hidden');
            element.style.display = 'none';
        }
    });

    // Show selected form using both methods
    const targetForm = document.getElementById(`form-${formType}`);
    if (targetForm) {
        targetForm.classList.remove('hidden');
        targetForm.style.display = 'block';
        console.log(`Showing form: form-${formType}`);
    } else {
        console.error(`Form not found: form-${formType}`);
    }

      // Set default date for the current form
      setDefaultDate();

       // Hide all buttons except the selected one
            const buttons = ['btn-forecast', 'btn-bog', 'btn-reinstatement', 'btn-pitlinkin'];
buttons.forEach(btnId => {
    const btn = document.getElementById(btnId);
    if (btn) {
        if (btnId === `btn-${formType}`) {
            btn.classList.add('active');
        } else {
            btn.classList.remove('active');
        }
        btn.style.display = 'inline-block'; // ✅ Always show buttons
    }
});
        }

function validatediscipline() {
    const checkeddiscipline = document.querySelectorAll('input[name="forecast-discipline[]"]:checked');
    const errorElement = document.getElementById('discipline-error');
    
    if (checkeddiscipline.length === 0) {
        // Show error message if it exists
        if (errorElement) {
            errorElement.style.display = 'block';
        }
        return false; // Prevent form submission
    } else {
        // Hide error message if it exists
        if (errorElement) {
            errorElement.style.display = 'none';
        }
        return true; // Allow form submission
    }
}

function validateWorkdays(fieldName) {
    const checkedWorkdays = document.querySelectorAll(`input[name="${fieldName}[]"]:checked`);
    const errorElementId = fieldName.toLowerCase().replace('-', '') + '-workdays-error';
    const errorElement = document.getElementById(errorElementId);
    
    if (checkedWorkdays.length === 0) {
        // Show error message if it exists
        if (errorElement) {
            errorElement.style.display = 'block';
        }
        return false; // Prevent form submission
    } else {
        // Hide error message if it exists
        if (errorElement) {
            errorElement.style.display = 'none';
        }
        return true; // Allow form submission
    }
}

// Usage examples:
// validateWorkdays('Scoping-workdays');
// validateWorkdays('Blockages-workdays');
// validateWorkdays('Pit-workdays');
// validateWorkdays('New-Build-workdays');
// validateWorkdays('Hauling-workdays');
// validateWorkdays('Splicing-workdays');
// validateWorkdays('Locating-workdays');
// validateWorkdays('Reinstatement-workdays');
// validateWorkdays('Civils-workdays');

function validateSWMS() {
    const checkedSWMS = document.querySelectorAll('input[name="bog-SWMS[]"]:checked');
    const errorElement = document.getElementById('swms-error');
    
    if (checkedSWMS.length === 0) {
        // Show error message if it exists
        if (errorElement) {
            errorElement.style.display = 'block';
        }
        return false; // Prevent form submission
    } else {
        // Hide error message if it exists
        if (errorElement) {
            errorElement.style.display = 'none';
        }
        return true; // Allow form submission
    }
}

function validateForecastForm() {
    const form = document.querySelector('#forecast-form'); // Updated selector
    const isValid = form.checkValidity();
    const disciplineValid = validatediscipline();
    const workdaysValid = validateworkdays();

    
    if (!isValid || !disciplineValid || !workdaysValid) {
        showErrorMessage();
        // Add red styling to invalid fields
	addFieldErrorStyling(form);
        form.reportValidity(); 
        return false;
    }
    
    return true;
}

function validateBogForm() {
    const form = document.querySelector('#bog-form'); // Updated selector
    const isValid = form.checkValidity();
    const swmsValid = validateSWMS();
    
    if (!isValid || !swmsValid) {
        showErrorMessage();
        // Add red styling to invalid fields
	addFieldErrorStyling(form);
        form.reportValidity(); 
        return false;
    }
    
    return true;
}

function validateGenericForm(formId) {
    const form = document.getElementById(formId); // Updated selector
    const isValid = form.checkValidity();
    
    if (!isValid) {
        showErrorMessage();
        // Add red styling to invalid fields
	addFieldErrorStyling(form);
        form.reportValidity(); 
        return false;
    }
    
    return true;
}

  function addFieldErrorStyling(form) {
    // Remove existing error classes
    const existingErrors = form.querySelectorAll('.field-error');
    existingErrors.forEach(el => el.classList.remove('field-error'));
    
    // Add error class to invalid fields
    const invalidFields = form.querySelectorAll(':invalid');
    invalidFields.forEach(field => {
        field.classList.add('field-error');
        // Also add to parent if it's a field container
        if (field.parentElement) {
            field.parentElement.classList.add('field-error');
        }
    });
}

function showErrorMessage() {
    const messageBox = document.getElementById('thank-you-message');
    const messageTitle = document.getElementById('message-title');
    const messageBody = document.getElementById('message-body');
    
    // Show error message
    messageTitle.textContent = '';
    messageBody.textContent = 'Please review your submission and ensure all fields are completed.';
    messageBody.style.color = 'red';
    messageBox.style.display = 'block';
}

function showSuccessMessage() {
    const messageBox = document.getElementById('thank-you-message');
    const messageTitle = document.getElementById('message-title');
    const messageBody = document.getElementById('message-body');
    
    // Show success message
    messageTitle.textContent = 'Thank you!';
    // Added button and auto-redirect message
    messageBody.innerHTML = 'Your form has been submitted successfully.<br><br><button type="button" class="btn-back" onclick="returnToFormSwitcher()">Submit Another Form</button><br><small>You will be redirected to form selection in 5 seconds...</small>';
    messageBody.style.color = ''; // Reset color to default
    messageBox.style.display = 'block';
    
    // Auto-redirect after 5 seconds
    setTimeout(() => {
        returnToFormSwitcher();
        document.getElementById('thank-you-message').style.display = 'none';
    }, 5000);
}

// Optional: Function to reset/hide the message
function hideMessage() {
    const messageBox = document.getElementById('thank-you-message');
    messageBox.style.display = 'none';
  // Hide message if validation passes (you may replace this with success logic)
  messageBox.style.display = 'none';
  return true;
}

    // Initialize default dates when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      setDefaultDate();

       // Add event listeners for each form
         document.getElementById('forecast-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const checked = document.querySelectorAll('input[name="forecast-discipline[]"]:checked');
        const errorEl = document.getElementById('discipline-error');
        if (checked.length === 0) {
          errorEl.style.display = 'block';
        } else {
          errorEl.style.display = 'none';
          alert('Form submitted!');
        }
      });
            // Collect form data - modify this based on your actual form fields
            const formData = {
                'Week Ending': document.getElementById('forecast-date').value,
                'Your Company Name': document.getElementById('forecast-company-name').value,
                'SAM': document.getElementById('forecast-SAM').value,
                'Discipline': document.getElementById('forecast-discipline').value,
                'Scoping-Crews': document.getElementById('Scoping-crews').value,
                'Scoping-Workdays': document.getElementById('Scoping-workdays').value,
                'Blockage-Crews': document.getElementById('Blockages-crews').value,
                'Blockages-Workdays': document.getElementById('Blockages-workdays').value,
                'Pit-Crews': document.getElementById('Pit-Remediation-crews').value,
                'Pits-Workdays': document.getElementById('Pit-workdays').value,
                'New Build-Crews': document.getElementById('New-Build-crews').value,
                'New Build-Workdays': document.getElementById('New-Build-workdays').value,
                'Hauling-Crews': document.getElementById('Hauling-crews').value,
                'Hauling-Workdays: document.getElementById('Hauling-workdays').value,
                'Splicing-Crews': document.getElementById('Splicing-crews').value,
                'Splicing-Workdays': document.getElementById('Splicing-workdays').value,
                'Locating-Crews': document.getElementById('Service-Locating-crews').value,
                'Locating-Workdays': document.getElementById('Locating-workdays').value,
                'Remediation-Crews': document.getElementById('Reinstatement-crews').value,
                'Remediation-Workdays': document.getElementById('Reinstatement-workdays').value,
                'Civils-Crews': document.getElementById('Other-Civils-crews').value,
                'Civils-Workdays': document.getElementById('Civils-workdays').value,
            };
            
            try {
                const response = await submitToAirtable('forecast', formData);
const result = await response.json();

if (!response.ok) {
  console.error('Airtable error:', result);
  alert(`Submission failed: ${result.error?.message || 'Unknown error'}`);
  return;
}

showSuccessMessage();
            } catch (error) {
                console.error('Error submitting Forecast form:', error);
                alert('Error submitting form. Please try again.');
            }
        });

       // Add event listeners for each form
        document.getElementById('bog-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            // Collect checkbox values for SWMS
            const checkedSWMS = Array.from(document.querySelectorAll('input[name="bog-SWMS[]"]:checked'))
                                     .map(checkbox => checkbox.value);
            
            // Collect form data - modify this based on your actual form fields
            const formData = {
                'Date': document.getElementById('bog-date').value,
                'First Site Location2': document.getElementById('bog-site-location').value,
                'Onsite Crew Lead': document.getElementById('bog-site-contact').value,
                'Onsite Crew Lead Mobile_original': document.getElementById('bog-onsite-crew-lead-mobile').value,
                'Your Company Name': document.getElementById('bog-company-name').value,
                'Discipline': document.getElementById('bog-discipline').value,
                'Number of People at Location?': document.getElementById('bog-Number-of-People-at-Location').value,
                'List Names of Workers in field.': document.getElementById('bog-crews-names').value,
                'SAM ID (WA)': document.getElementById('bog-SAM').value,
                'ADA ID': document.getElementById('bog-ADA').value,
                'Your Genus FCM': document.getElementById('bog-Genus-FCM').value,
                'I confirm all workers have been inducted and have signed onto the JHA.': document.getElementById('bog-jha-uploaded').checked,
                'Discipline with task Specific SWMS (SWMS-SHEQ-CMS-0011 Site Establishment, SWMS-SHEQ-CMS-0001 Access to Pits & Manholes - required on all sites, SWMS-SHEQ-CMS-0006 Asbestos (ACM) required for all ACM sites)': checkedSWMS,
                'Will you be disturbing/modifying any possible ACM while onsite?': document.getElementById('bog-ACM').value,
                'Genus ACM Removal Notification Code and placed on your Construction JHA.': document.getElementById('bog-acm-yes').value,
                'Ensure Telstra guards are fully locked around all open manholes.  Calibrated gas detector required for spot sampling manhole access and ongoing monitoring.': document.getElementById('bog-guards').checked,
                'Excavation work- have you follow the 5Ps  with a competent locator onsite?': document.getElementById('bog-excavation').checked,
                'Additional Comments': document.getElementById('bog-comments').value,
            };
            
            try {
                const response = await submitToAirtable('bog', formData);
const result = await response.json();

if (!response.ok) {
  console.error('Airtable error:', result);
  alert(`Submission failed: ${result.error?.message || 'Unknown error'}`);
  return;
}

showSuccessMessage();
            } catch (error) {
                console.error('Error submitting BOG form:', error);
                alert('Error submitting form. Please try again.');
            }
        });

        document.getElementById('reinstatement-form').addEventListener('submit', async function(e) {
            e.preventDefault();

       // Validate the form
        if (!validateGenericForm('reinstatement-form')) {
            return;
        }
            
            // Collect form data - modify this based on your actual form fields
            const formData = {
                'Type of work': document.getElementById('reinstatement-type').value,
                'Your Name': document.getElementById('reinstatement-site-contact').value,
                'Temp Reinstatement Date': document.getElementById('reinstatement-date').value,
                'Address': document.getElementById('reinstatement-address').value,
                'SAM': document.getElementById('reinstatement-SAM').value,
                'ADA': document.getElementById('reinstatement-ADA').value,
                'Note ID': document.getElementById('reinstatement-note-id').value,
                'Asset Type': document.getElementById('reinstatement-asset-type').value,
                'Surface Type': document.getElementById('reinstatement-surface-type').value,
                'Surface Type - Other': document.getElementById('reinstatement-surface-type-other').value,
                'Location Type': document.getElementById('reinstatement-location-type').value,
                'Location Type - Other': document.getElementById('reinstatement-location-type-other').value,
                'Temp Material Used': document.getElementById('reinstatement-material-type').value,
                'Temp Material Used - Other': document.getElementById('reinstatement-material-type-other').value,
                'Temp Contractor Company Name': document.getElementById('reinstatement-company-name').value,
                'Proposed Permanent Reinstatement Date': document.getElementById('reinstatement-perm-date').value,
                'Permanent Reinstatement Area (m2)': document.getElementById('reinstatement-area').value,
                'Full Panel Required?': document.getElementById('reinstatement-panel').value,
            };
            
            try {
                // await submitToAirtable('reinstatement', formData);
                // showSuccessMessage();
const response = await submitToAirtable('reinstatement', formData);
const result = await response.json();

if (!response.ok) {
  console.error('Airtable error:', result);
  alert(`Submission failed: ${result.error?.message || 'Unknown error'}`);
  return;
}

showSuccessMessage();
            } catch (error) {
                console.error('Error submitting Reinstatement form:', error);
                alert('Error submitting form. Please try again.');
            }
        });



        document.getElementById('pitlinkin-form').addEventListener('submit', async function(e) {
            e.preventDefault();

       // Validate the form
        if (!validateGenericForm('pitlinkin-form')) {
            return;
        }
            
            // Collect form data - modify this based on your actual form fields
            const formData = {
                'Type of work': document.getElementById('pitlinkin-type').value,
                'Your Name': document.getElementById('pitlinkin-site-contact').value,
                'Pit Link-in Date': document.getElementById('pitlinkin-date').value,
                'Address': document.getElementById('pitlinkin-location').value,
                'SAM': document.getElementById('pitlinkin-SAM').value,
                'ADA': document.getElementById('pitlinkin-ADA').value,
                'Duct FIR number': document.getElementById('pitlinkin-duct-fir').value,
                'Pit FIR number': document.getElementById('pitlinkin-pit-fir').value,
                'Pit Material': document.getElementById('pitlinkin-pit-material').value,
                'Pit Type': document.getElementById('pitlinkin-pit-type').value,
                'Pit Type - Other': document.getElementById('pitlinkin-pit-type-other').value,
                'Pit Fit for Purpose': document.getElementById('pitlinkin-ffp').value,
                'Current Duct State': document.getElementById('pitlinkin-duct-state').value,
                'RRP Completed?': document.getElementById('pitlinkin-rrp').value,
                'Reinstatement Required?': document.getElementById('pitlinkin-reinstatement-req').value,
                'Reported By': document.getElementById('pitlinkin-company-name').value,
            };
            
            try {
                // await submitToAirtable('pitlinkin', formData);
                // showSuccessMessage();
const response = await submitToAirtable('pitlinkin', formData);
const result = await response.json();

if (!response.ok) {
  console.error('Airtable error:', result);
  alert(`Submission failed: ${result.error?.message || 'Unknown error'}`);
  return;
}

showSuccessMessage();
            } catch (error) {
                console.error('Error submitting Pit Link-in form:', error);
                alert('Error submitting form. Please try again.');
            }
        });

function returnToFormSwitcher() {
    // Hide thank you message
    location.reload();
    
    // Hide all forms using both methods
    const forms = ['form-forecast', 'form-bog', 'form-reinstatement', 'form-pitlinkin'];
    forms.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.classList.add('hidden');
            element.style.display = 'none';
            // Reset the form
            element.reset();
            // Remove any error styling
            const errorFields = element.querySelectorAll('.field-error');
            errorFields.forEach(field => field.classList.remove('field-error'));
        }
    });

    // Show all buttons and remove active state
    const buttons = ['btn-forecast', 'btn-bog', 'btn-reinstatement', 'btn-pitlinkin'];
    buttons.forEach(btnId => {
        const btn = document.getElementById(btnId);
        if (btn) {
            btn.style.display = 'inline-block';
            btn.classList.remove('active');
        }
    });
}

  // Show selected form
            const targetForm = document.getElementById(`form-${formType}`);
            if (targetForm) {
                targetForm.classList.remove('hidden');
            }
    });
  </script>

<script>
  function returnToFormSwitcher() {
    location.reload();
  }
</script>

  <script>
    function initAutocomplete() {
      const inputs = document.querySelectorAll(".address-autocomplete");
      inputs.forEach(input => {
        new google.maps.places.Autocomplete(input, {
          types: ['geocode'],
          componentRestrictions: { country: 'au' }
        });
      });
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA-EKPtC5W7fRHgiONVPIyGsVU7Ti_xjBc&libraries=places&callback=initAutocomplete" async defer></script>
</body>
</html>